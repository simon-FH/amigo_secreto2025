<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Video Sequence</title>
    <style>
        body, html { margin: 0; padding: 0; height: 100%; overflow: hidden; background: black; }
        video { width: 100vw; height: 100vh; object-fit: cover; cursor: pointer; }
    </style>
</head>
<body onclick="handleInteraction()">

    <video id="videoPlayer" autoplay muted playsinline>
        <source id="videoSource" src="amigo_secreto1.mp4" type="video/mp4">
    </video>

    <script>
        const player = document.getElementById('videoPlayer');
        const source = document.getElementById('videoSource');
        
        // Track which video we are on
        let currentStep = 1;

        // 1. Logic for when a video ends naturally
        player.onended = function() {
            if (currentStep === 1) {
                // If video 1 ends, loop it back to the start
                player.play();
            } else if (currentStep === 2) {
                // If video 2 ends, move to video 3 automatically
                playVideo3();
            } else if (currentStep === 3) {
                // If video 3 ends, loop it
                player.play();
            }
        };

        // 2. Logic for when the user clicks
        function handleInteraction() {
            if (currentStep === 1) {
                playVideo2();
            }
        }

        function playVideo2() {
            currentStep = 2;
            source.src = "amigo_secreto2.mp4";
            player.load();
            player.play();
        }

        function playVideo3() {
            currentStep = 3;
            source.src = "amigo_secreto3.mp4";
            player.load();
            player.play();
        }
    </script>
</body>
</html>